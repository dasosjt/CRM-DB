{% extends "base.html" %}
{% block pageTitle %}Perfil de cliente{%endblock%}

{% block pageContent %}
	<div class="container">

		<!-- Relational data -->
		<div class="center">
			<img src={{image_path}}>
		</div>
		

		<div class="row">
			<div class="col s12">
				<div class="card-panel blue lighten-4">
					<table class='highlight responsive-table centered bordered'>
						<thead>
							<tr>
							{% for column in columns %}
								<th>{{column['fieldName']}}</th>
							{% endfor %}
							</tr>
						</thead>
						<tbody>
							<tr>
								{% for value in line %}
									<td>{{value['value']}}</td>
								{% endfor %}
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>

		<!-- Twitter data -->
		<!-- Twitter statistics -->
		<div class="row">
			<div class="col s6">
				<form action="/twitterStats/{{username}}" method="GET">
					<div class="center">
						<button class="btn waves-effect waves-light blue" type="submit" name="action">
							Estadisticas de Twitter
							<i class="material-icons right">list</i>
						</button>
					</div>
				</form>
			</div>

			<div class="col s6">
				<form action="/edit/{{client_id}}" method="get">
					<div class="center">
						<button class="btn waves-effect waves-light blue" type="submit" name="action">
							Editar
							<i class="material-icons right">settings</i>
						</button>
					</div>
				</form>
			</div>
		</div>

		<!-- Tweet filtering -->
		<form class="col s12" action="/profile/{{client_id}}" method="POST" enctype="multipart/form-data">
			<div class="row">
				<div class="row">
					Filtra los tweets
				</div>

				<div class="row">
					<div class="input-field col s4">
						<input type="text" name="containingWord" id="containingWord">
						<label for="containingWord">Conteniendo palabra</label>
					</div>

					<div class="input-field col s4">
						<input type="date" name="afterDate" id="afterDate">
						<label for="afterDate">Despues de</label>
					</div>

					<div class="input-field col s4">
						<input type="date" name="beforeDate" id="beforeDate">
						<label for="beforeDate">Antes de</label>
					</div>
				</div>
			</div>

			<div class="center">
				<button class="btn waves-effect waves-light blue" type="submit" name="action">
					Filtrar
					<i class="material-icons right">list</i>
				</button>
			</div>
		</form>

		<!-- Tweets -->
		

		<div class="row">
			{% for tweet in tweets %}
					<div class="col s12">
						<div class="card-panel blue lighten-1">
							<div>
								<span class="white-text">
									{{tweet['text']}}
								</span>
							</div>
							
							<div class="right-align">
								<span>
									{{tweet['showableDate']}}
								</span>
							</div>
							
						</div>
					</div>
			{% endfor %}
		</div>

		
	</div>
{% endblock %}
